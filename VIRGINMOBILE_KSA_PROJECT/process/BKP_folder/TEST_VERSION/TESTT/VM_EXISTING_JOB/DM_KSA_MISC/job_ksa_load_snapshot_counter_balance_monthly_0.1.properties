<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:TalendProperties="http://www.talend.org/properties">
  <TalendProperties:Property xmi:id="_8kadQTjeEemEUpqU4X-tQQ" id="_8kadQDjeEemEUpqU4X-tQQ" label="job_ksa_load_snapshot_counter_balance_monthly" purpose="This job is to load snapshot counter balane monthly table. Intended to run on a monthly schedule" description="This job is to load snapshot counter balane monthly table. The job is updated after the Nobill migration process completion (confirmation received on 28-Mar-2019) &#xD;&#xA;&#xD;&#xA;Job performs following steps:&#xD;&#xA;Step 0) Deletes the tempFiles folder which contains temp files creaed during previous job run and processing.&#xD;&#xA;Step 1) Removes duplicates within OCS file and writes trimmed and filtered columns ( igoring msisdn, imsi columns) to tempFiles/file1 (file names as in the job)&#xD;&#xA;Step 2) Removes records with null values in NOT NULLABLE columns (accountnum, counterid) or records with zero balance. Qualified records are put into tempFiles/file2 (file names as in the job)&#xD;&#xA;Step 3) Load tempFiles/file2 into Vertica table&#xD;&#xA;&#xD;&#xA;Limitation as of 02-Apr-2019: 7z file should be manually downloaded and extracted from FTP server before executing this job.&#xD;&#xA;Observed trend (Apr-2019): Only 1/4 of the source file records qualified and got inserted&#xD;&#xA;&#xD;&#xA;Date: 04-Apr-2019&#xD;&#xA;Name: Salini&#xD;&#xA;Modification: 1) Removed processing of BE files 2) Added a new filter to ignore records with null values in not nullable columns and records with zero balance&#xD;&#xA;&#xD;&#xA;Date: 08-Apr-2019&#xD;&#xA;Name: Salini&#xD;&#xA;Modification: 1) Added tFileDelete component to automate deletion of temp files. 2) Added FTP components to automate file transfer and extraction. Deactivated as FTP pipe is getting broke while transferring file through job.&#xD;&#xA;&#xD;&#xA;Earlier version:&#xD;&#xA;&#xD;&#xA;This job performed following steps during the migration process. There were two input archived csv files: one for the previous Nobill version(BE) and the other for the latest Nobill version(OCS).&#xD;&#xA;Step 1: Removes duplicates within BE file and writes trimmed and filtered columns ( igoring msisdn, imsi columns) to file1 (file names as in the job)&#xD;&#xA;Step 2: Removes duplicates within OCS file and writes trimmed and filtered columns ( igoring msisdn, imsi columns) to file2 (file names as in the job)&#xD;&#xA;Step 3: Compares OCS and BE files - file1 and file2- to identify if any duplicates exist based on accountnum and counter id. Unique records from BE file1 is filtered into file3 (file names as in the job).&#xD;&#xA;Step 4: Load OCS file2 from Step 1 into Vertica table. Reject records that does not match the schema- this is to ignore invalid records where counter id is null&#xD;&#xA;Step 5: Load BE file3 from Step 3 into Vertica table. Reject records that does not match the schema- this is to ignore invalid records where counter id is null&#xD;&#xA;&#xD;&#xA;Record priority level is OCS > BE&#xD;&#xA;&#xD;&#xA;" version="0.1" statusCode="" item="_8kadQzjeEemEUpqU4X-tQQ" displayName="job_ksa_load_snapshot_counter_balance_monthly">
    <author href="../../../../../../talend.project#_MT_v4PLwEe241ossQyN6Mw"/>
    <additionalProperties xmi:id="_8ktYMDjeEemEUpqU4X-tQQ" key="created_product_fullname" value="Talend Cloud Real-Time Big Data Platform"/>
    <additionalProperties xmi:id="_8ktYMTjeEemEUpqU4X-tQQ" key="created_product_version" value="7.1.1.20181026_1147"/>
    <additionalProperties xmi:id="_8ktYMjjeEemEUpqU4X-tQQ" key="created_date" value="2019-02-25T13:23:01.043+0400"/>
    <additionalProperties xmi:id="_8ktYMzjeEemEUpqU4X-tQQ" key="modified_product_fullname" value="Talend Real-time Big Data Platform"/>
    <additionalProperties xmi:id="_8ktYNDjeEemEUpqU4X-tQQ" key="modified_product_version" value="8.0.1.20230612_1054-patch"/>
    <additionalProperties xmi:id="_8ktYNTjeEemEUpqU4X-tQQ" key="modified_date" value="2023-08-29T16:24:57.339+0530"/>
    <additionalProperties xmi:id="_-Q1hEKPBEemUZJd8P-gIOA" key="FRAMEWORK" value=""/>
    <additionalProperties xmi:id="_xNmiMr88EemYLPPK5FomYg" key="import_product_fullname" value="Talend Real"/>
    <additionalProperties xmi:id="_xNmiM788EemYLPPK5FomYg" key="import_product_version" value="time Big Data Platform-8.0.1.20230612_1054-patch"/>
    <additionalProperties xmi:id="_xNmiNL88EemYLPPK5FomYg" key="import_date" value="2023-07-24T14:27:15.279+0530"/>
  </TalendProperties:Property>
  <TalendProperties:ItemState xmi:id="_HGthcCoAEe6xFvuZKEKLag" path="BKP_folder/TEST_VERSION/TESTT/VM_EXISTING_JOB/DM_KSA_MISC" deleted="true"/>
  <TalendProperties:ProcessItem xmi:id="_8kadQzjeEemEUpqU4X-tQQ" property="_8kadQTjeEemEUpqU4X-tQQ" state="_HGthcCoAEe6xFvuZKEKLag">
    <process href="job_ksa_load_snapshot_counter_balance_monthly_0.1.item#/"/>
  </TalendProperties:ProcessItem>
</xmi:XMI>
