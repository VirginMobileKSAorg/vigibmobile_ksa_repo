<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:TalendProperties="http://www.talend.org/properties">
  <TalendProperties:Property xmi:id="_5XRT8IKtEem_-okVdd-ZZg" id="_LiBMIIUqEem7JN5TgiLldA" label="job_ksa_dedup_fact_usage" purpose="This job is to remove duplicates from fact usage" description="This job is to remove duplicates from fact usage&#xD;&#xA;&#xD;&#xA;This job takes 2 inputs : vStartDate and vEndDate. Format of date input to be given: YYYY-MM-DD&#xD;&#xA;- If no value is provided for vStartDate, it takes current date -7 date by default.&#xD;&#xA;- If no value is provided for vEndDate, it takes current date -1 date by default.&#xD;&#xA;&#xD;&#xA;Steps executed are as following:&#xD;&#xA;Step 1) Set start date and end date range to check for duplicates&#xD;&#xA;Step 2) Truncate table stg.duplicates_fact_usage_confirm. This table holds the details captured in current job run.&#xD;&#xA;Step 3) insert into table as in Step 2 with details of duplicates if exists. Copy the same to BKP_duplicates_fact_usage table which contains all history of duplicates&#xD;&#xA;Step 4) Iterate through distinct dates for which duplicates are identified.&#xD;&#xA;Step 4a) Set date to perform de-duplication&#xD;&#xA;Step 4b) Delete records if exists in BKP_fact_usage for the date and re-insert from FACT table.&#xD;&#xA;Step 4c) Delete records from prod FACT table&#xD;&#xA;Step 4d) Insert unique records from BKP table back to FACT table&#xD;&#xA;Step 4e) Check if (Total initial #Record) - (Re-inserted #Record ) =  sum((ROW_COUNT -1)* COUNT(1)) in duplicates_fact_usage_confirm for the date&#xD;&#xA;Step 4a)" version="0.1" statusCode="" item="_5XRT8oKtEem_-okVdd-ZZg" displayName="job_ksa_dedup_fact_usage">
    <author href="../../../../../../../../talend.project#_6OCjIDW2Ee6ABPc4_WeyIQ"/>
    <additionalProperties xmi:id="_5XfWYIKtEem_-okVdd-ZZg" key="created_product_fullname" value="Talend Cloud Real-Time Big Data Platform"/>
    <additionalProperties xmi:id="_5XfWYYKtEem_-okVdd-ZZg" key="created_product_version" value="7.1.1.20190416_0600-patch"/>
    <additionalProperties xmi:id="_5XfWYoKtEem_-okVdd-ZZg" key="created_date" value="2019-06-02T15:33:02.580+0400"/>
    <additionalProperties xmi:id="_5XfWY4KtEem_-okVdd-ZZg" key="modified_product_fullname" value="Talend Real-time Big Data Platform"/>
    <additionalProperties xmi:id="_5XfWZIKtEem_-okVdd-ZZg" key="modified_product_version" value="8.0.1.20230612_1054-patch"/>
    <additionalProperties xmi:id="_5XfWZYKtEem_-okVdd-ZZg" key="modified_date" value="2023-07-27T10:57:49.367+0530"/>
    <additionalProperties xmi:id="_hOtiEIUqEem7JN5TgiLldA" key="FRAMEWORK" value=""/>
    <additionalProperties xmi:id="_UKR1YItfEemIMZXG9QChVg" key="withImage" value="true"/>
    <additionalProperties xmi:id="_xNme5L88EemYLPPK5FomYg" key="import_product_fullname" value="Talend Real"/>
    <additionalProperties xmi:id="_xNme5b88EemYLPPK5FomYg" key="import_product_version" value="time Big Data Platform-8.0.1.20230612_1054-patch"/>
    <additionalProperties xmi:id="_xNme5r88EemYLPPK5FomYg" key="import_date" value="2023-08-08T16:25:50.503+0530"/>
  </TalendProperties:Property>
  <TalendProperties:ItemState xmi:id="_h9yg8DXaEe6k1M6skDyJig" path="VirginMobile/BKP_folder/TEST_VERSION/TESTT/VM_EXISTING_JOB/DM_KSA_NOBILL/STAGE_2"/>
  <TalendProperties:ProcessItem xmi:id="_5XRT8oKtEem_-okVdd-ZZg" property="_5XRT8IKtEem_-okVdd-ZZg" state="_h9yg8DXaEe6k1M6skDyJig">
    <process href="job_ksa_dedup_fact_usage_0.1.item#/"/>
  </TalendProperties:ProcessItem>
</xmi:XMI>
